<html xmlns:sec="http://www.springframework.org/tags/security">
<link rel="stylesheet" type="text/css" th:href="@{/style.css}">
<h1 th:text="${question.subject}"></h1>
<div th:text="${question.content}"></div>
<h5 th:text="|${#lists.size(question.answerList)}개의 답변이 있습니다.|"></h5>
<div>
    <ul>
        <li th:each="answer : ${question.answerList}" th:text="${answer.content}"></li>
    </ul>
</div>
<form th:action="@{|/answer/create/${question.id}|}" th:object="${answerForm}" method="post" class="my-3">
    <div class="alert alert-danger" role="alert" th:if="${#fields.hasAnyErrors()}">
        <div th:each="err : ${#fields.allErrors()}" th:text="${err}"></div>
    </div>
    <div class="mb-2">
        <span th:if="${question.author != null}" th:text="${question.author.username}"></span>
    </div>
    <td th:text="${question.createDate}"></td>

    <textarea sec:authorize="isAnonymous()" disabled th:field="*{content}" rows="10"></textarea>
    <textarea sec:authorize="isAuthenticated" th:field="*{content}" rows="10"></textarea>
    <input type="submit" value="답변등록">
</form>

